(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{484:function(t,s,a){"use strict";a.r(s);var _=a(56),e=Object(_.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-概述"}},[t._v("#")]),t._v(" 1 概述")]),t._v(" "),a("h3",{attrs:{id:"_1-1文档概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1文档概述"}},[t._v("#")]),t._v(" 1.1\t文档概述")]),t._v(" "),a("p",[t._v("此文档将介绍微信服务号集成SRM移动端的相关配置，主要包括服务号配置和云SRM配置。")]),t._v(" "),a("h2",{attrs:{id:"_2配置说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2配置说明"}},[t._v("#")]),t._v(" 2\t配置说明")]),t._v(" "),a("h3",{attrs:{id:"_2-1srm配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1srm配置"}},[t._v("#")]),t._v(" 2.1\tSRM配置")]),t._v(" "),a("h4",{attrs:{id:"_2-1-1菜单路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1菜单路径"}},[t._v("#")]),t._v(" 2.1.1\t菜单路径")]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/menuPath.png")}}),t._v(" "),a("h4",{attrs:{id:"_2-1-2三方平台定义-种子数据部署完成-此配置正常会自动生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2三方平台定义-种子数据部署完成-此配置正常会自动生成"}},[t._v("#")]),t._v(" 2.1.2三方平台定义（种子数据部署完成，此配置正常会自动生成）")]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/thirdPlatformDetail.png")}}),t._v(" "),a("ul",[a("li",[t._v("三方平台编码：wechatService")]),t._v(" "),a("li",[t._v("描述：微信服务号")]),t._v(" "),a("li",[t._v("消息发送地址：https://api.weixin.qq.com/cgi-bin/message/template/send")]),t._v(" "),a("li",[t._v("获取用户地址：https://api.weixin.qq.com/sns/oauth2/access_token")]),t._v(" "),a("li",[t._v("执行代码：此代码主要是回调三方，获取用户信息，并二次握手做安全性校验")])]),t._v(" "),a("h4",{attrs:{id:"_2-1-3三方平台参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3三方平台参数"}},[t._v("#")]),t._v(" 2.1.3三方平台参数")]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/thirdPlatformDetail.png")}}),t._v(" "),a("ul",[a("li",[t._v("参数字段：TOKEN_URL")]),t._v(" "),a("li",[t._v("参数值：https://api.weixin.qq.com/cgi-bin/token")])]),t._v(" "),a("h4",{attrs:{id:"_2-1-4三方运营号维护"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4三方运营号维护"}},[t._v("#")]),t._v(" 2.1.4\t三方运营号维护")]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/thirdAccountDetail.png")}}),t._v(" "),a("ul",[a("li",[t._v("账号：非必输，SRM自动生成")]),t._v(" "),a("li",[t._v("租户：选择企业微信对应的租户 "),a("front",{staticStyle:{color:"red"}},[t._v("*"),a("strong",[t._v("必输")])])],1),t._v(" "),a("li",[t._v("三方平台：微信服务号 "),a("front",{staticStyle:{color:"red"}},[t._v("*"),a("strong",[t._v("必输")])])],1),t._v(" "),a("li",[t._v("应用：根据实际使用，选择商城或者SRM "),a("front",{staticStyle:{color:"red"}},[t._v("*"),a("strong",[t._v("必输")])])],1),t._v(" "),a("li",[t._v("三方账号：微信服务号账号（不同的公众号不同，一般有客户提供，可在微信公众平台查看，如下方截图所示），对应开发者ID "),a("front",{staticStyle:{color:"red"}},[t._v("*"),a("strong",[t._v("必输")])])],1),t._v(" "),a("li",[t._v("三方秘钥：微信服务号秘钥，对应开发者秘钥 "),a("front",{staticStyle:{color:"red"}},[t._v("*"),a("strong",[t._v("必输")])])],1),t._v(" "),a("li",[t._v("运营号描述：租户名称+企业微信（例：甄云科技企业微信） "),a("front",{staticStyle:{color:"red"}},[t._v("*"),a("strong",[t._v("必输")])])],1),t._v(" "),a("li",[t._v("备注：若无特别需要备注的，与运营号描述相同即可")]),t._v(" "),a("li",[t._v("平台运营账号：默认不开启（当租户为SRM平台时，可以开启，将当前三方运营号作为平台级运营账号使用）")]),t._v(" "),a("li",[t._v("自动绑定：默认不开启（当三方账号通过接口，在srm系统中同步生成子账号时，开启该功能可实现免登录）")]),t._v(" "),a("li",[t._v("启用：默认开启（当三方运营号不使用时，可禁用）")]),t._v(" "),a("li",[t._v("启用客户系统认证：默认不开启（当三方系统需要使用到自己的客户系统认证账号时，可开启该功能，并结合客户系统认证执行代码使用）")]),t._v(" "),a("li",[t._v("客户系统认证执行代码：客户系统认证流程，当"),a("strong",[t._v("启用客户系统认证")]),t._v("标识开启时需要维护")])]),t._v(" "),a("h4",{attrs:{id:"_2-1-5-三方运营参数配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-三方运营参数配置"}},[t._v("#")]),t._v(" 2.1.5 三方运营参数配置")]),t._v(" "),a("p",[a("strong",[t._v("无需配置")])]),t._v(" "),a("h3",{attrs:{id:"_2-2微信公众平台配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2微信公众平台配置"}},[t._v("#")]),t._v(" 2.2\t微信公众平台配置")]),t._v(" "),a("h4",{attrs:{id:"_2-2-1-登陆官网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-登陆官网"}},[t._v("#")]),t._v(" 2.2.1 登陆官网")]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/weChat.png")}}),t._v(" "),a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网地址"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_2-2-2配置菜单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2配置菜单"}},[t._v("#")]),t._v(" 2.2.2配置菜单")]),t._v(" "),a("ul",[a("li",[t._v("菜单路径： 功能-自定义菜单")]),t._v(" "),a("li",[t._v("作用：配置菜单完成后， 可通过此菜单跳转至SRM移动端应用")])]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/weChatMenu.png")}}),t._v(" "),a("ul",[a("li",[t._v("页面地址：https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx216c776ca3a31842&redirect_uri=https%3A%2F%2Fmobile.dev.isrm.going-link.com%2FWxCover%2F&response_type=code&scope=snsapi_base&state=xxx.xxx #wechat_redirect")])]),t._v(" "),a("p",[a("strong",[t._v("页面地址参数说明:")])]),t._v(" "),a("ul",[a("li",[t._v("Redirect_uri:SRM方移动端跳转地址及固定入参；")]),t._v(" "),a("li",[t._v("请将https%3A%2F%2Fmobile.dev.isrm.going-link.com%2FWxCover% 替换为自己当前项目移动端对应的域名，例如https%3A%2F%2Fxxx.xxx.xxx.com%2FWxCover%;\n请将state=xxx.xxx替换为state=wechatService-三方运营账号，三方运营账号为2.1.4截图中的账号字段。")])]),t._v(" "),a("h4",{attrs:{id:"_2-2-3-ip白名单配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-ip白名单配置"}},[t._v("#")]),t._v(" 2.2.3 IP白名单配置")]),t._v(" "),a("ul",[a("li",[t._v("菜单路径：开发-基本配置")]),t._v(" "),a("li",[t._v("作用：调用微信方相关接口，微信方会对我们的出口IP做限制，需配置我方的出口IP，入下图所示")])]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/weChatMenu.png")}}),t._v(" "),a("h4",{attrs:{id:"_2-2-4-功能设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-功能设置"}},[t._v("#")]),t._v(" 2.2.4 功能设置")]),t._v(" "),a("ul",[a("li",[t._v("菜单路径：设置-公众号设置-功能设置")]),t._v(" "),a("li",[t._v("作用：微信端对服务号内域名访问的控制，都配置我方移动端域名即可，保存此配置的时候，微信方会验证域名的合理性，需要在此域名的代理路径下面访问微信提供的验证文件才可保存成功。")])]),t._v(" "),a("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/weChatFuncation.png")}})])}),[],!1,null,null,null);s.default=e.exports}}]);