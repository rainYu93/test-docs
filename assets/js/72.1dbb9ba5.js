(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{474:function(t,a,s){"use strict";s.r(a);var e=s(56),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-概述"}},[t._v("#")]),t._v(" 1 概述")]),t._v(" "),s("h3",{attrs:{id:"_1-1-文档概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-文档概述"}},[t._v("#")]),t._v(" 1.1 文档概述")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("概述")]),t._v(" "),s("p",[t._v("此文档将介绍SRM移动端工作流开发，涉及点工作流表单开发、功能实现所需配置;当前文档代码涉及移动前端业务服务。")])]),t._v(" "),s("h2",{attrs:{id:"_2-工作流表单开发配置说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-工作流表单开发配置说明"}},[t._v("#")]),t._v(" 2 工作流表单开发配置说明")]),t._v(" "),s("h3",{attrs:{id:"_2-1-标准审批表单开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-标准审批表单开发"}},[t._v("#")]),t._v(" 2.1 标准审批表单开发")]),t._v(" "),s("p",[s("a",{attrs:{href:"/course/workFlowDevelopTemplate"}},[t._v("点击跳转详细代码示例")])]),t._v(" "),s("h4",{attrs:{id:"标准审批表单-建议开发步骤如下。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准审批表单-建议开发步骤如下。"}},[t._v("#")]),t._v(" 标准审批表单，建议开发步骤如下。")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("在项目中找到路径 src/components/Workflow/ , 在该路径名称新建一个文件夹如 TemplateApproval(文件夹用大驼峰命名)。")])]),t._v(" "),s("li",[s("p",[t._v("在 TemplateApproval 目录下建立如下目录")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("目录")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("api")]),t._v(" "),s("td",[t._v("与后端交互接口定义")])]),t._v(" "),s("tr",[s("td",[t._v("components")]),t._v(" "),s("td",[t._v("当前审批私有化组件（一般不具有通用性）")])]),t._v(" "),s("tr",[s("td",[t._v("datasource")]),t._v(" "),s("td",[t._v("数据操作对象目录")])]),t._v(" "),s("tr",[s("td",[t._v("TemplateApprovalFrom.vue")]),t._v(" "),s("td",[t._v("审批表单入口界面")])])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("开发完成后,获取审批表单相对路径/TemplateApproval/TemplateApprovalFrom,后续在流程表单移动端url处进行配置")])]),t._v(" "),s("h3",{attrs:{id:"_2-2-审批表单配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-审批表单配置"}},[t._v("#")]),t._v(" 2.2 审批表单配置")]),t._v(" "),s("ol",[s("li",[s("p",[t._v('审批表单的配置同pc一致，找到对应流程单据或新建流程单据，如下图所示。将步骤2.1获取的审批表单地址填至"移动端表单URL"处，URl参数使用?\n拼接在链接后，多个参数使用&分割，使用的参数和pc保持一致，若"PC端表单URL"未配置，可与对应审批开发的后端技术沟通所需参数。\n'),s("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/流程表单.png")}})])]),t._v(" "),s("li",[s("p",[t._v("此时，你可以在本地启动项目，检查工作流接口中 "),s("code",[t._v("mobileFormUrl")]),t._v(" 字段是否返回了刚刚配置的路径。路径匹配则表示配置成功，可以在新建的文件下愉快的进行开发了。")])])]),t._v(" "),s("img",{staticClass:"img-style",attrs:{src:t.$withBase("/assets/img/document/返回mobileFormUrl.png")}}),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("表单页面开发中，使用 "),s("code",[t._v('this.$emit("GetApprovalTitle","标题"）')]),t._v("设置当前工作流详情页的顶部标题，使用 "),s("code",[t._v('this.$emit("GetAttachmentUuid", attachmentUuid)')]),t._v("\n设置工作流详情页导航栏的附件")])]),t._v(" "),s("li",[s("p",[t._v("在dev开发测试完成后，后面不管是提测还是发版上线，都需提交种子数据同步申请。")])])]),t._v(" "),s("h3",{attrs:{id:"_2-3-标准二开审批表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-标准二开审批表单"}},[t._v("#")]),t._v(" 2.3 标准二开审批表单")]),t._v(" "),s("p",[t._v("目前移动工作流表单支持个性化，如果通过个性化配置即可实现，配置即可；如果需要进行开发，二开代码需新建在src/components/Workflow/CUX/目录下，\n文件夹名称同标准一致，eg：src/components/Workflow/CUX/TemplateApproval,审批表单入口界面名称使用租户简称作为前缀，eg:BJT_TemplateApprovalFrom.Vue；\n所有基于当前这个标准审批二开的表单都存放在当前目录，所以其目录可能有BJT_TemplateApprovalFrom.vue,YHL_TemplateApprovalFrom.vue等多个二开表单入口界面。\n其他开发及配置与标准相同。")]),t._v(" "),s("h3",{attrs:{id:"_2-4-其它"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-其它"}},[t._v("#")]),t._v(" 2.4 其它")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("💁\n可复用子应用详情页为审批表单，srm-front-app 1.23.0 开始支持。当前开发的审批表单对应的pc功能未来会标准化为移动端子应用，或者已经存在对应的子应用，可直接将子应用详情页配置为审批表单；\n当前详情页的接收的参数务必要兼容两种情况，props组件传参，router路由传参数；")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),s("p",[t._v("标准的请使用平台账号配置预定义审批表单，二开的请使用租户管理员账号配置审批表单;不轻易修改已经配置好的工作流路径。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);